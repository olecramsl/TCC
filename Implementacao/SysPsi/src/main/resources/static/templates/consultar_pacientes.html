<head>
	<meta charset="utf-8">
</head>

<div id="page-wrapper">
	<div class="row">
		<div class="col-lg-12">
			<h1 class="page-header">Consultar Pacientes</h1>
		</div>
		<!-- /.col-lg-12 -->
	</div>
	<!-- /.row -->
	<div class="row">
		<div class="col-lg-12">
			<div class="panel panel-default">					
				<div class="panel-body">
					<div class="row">
						<form name="pesquisarPacienteForm" ng-submit="" role="form">
							<div class="col-lg-8">
								<div class=" input-group">
									<div class="input-group-addon"><i class="fa fa-search"></i></div>							
									<input class="form-control" id="pesquisarNome" type="text" ng-model="ctrl.pesquisaNome.nomeCompleto" 
										placeholder="Pesquisar">								
								</div>							
	                    	</div>                
	                    	<div class="col-lg-4">                    		
								<select name="tipoPesquisa" class="form-control"
									ng-init="ctrl.pesquisa.tipoPesquisa='1'" 
									ng-model="ctrl.pesquisa.tipoPesquisa"
									ng-change="ctrl.carregarPacientes()">																											
									<option value="1">Ativos</option>
									<option value="2">Inativos</option>
									<option value="3">Todos</option>
								</select>							
	                    	</div>
	                   	</form>	                    	
	            	</div>
	            	<hr />
	                <div class="row">	                 	
	                 	<table ng-table="ctrl.tableParams" class="table table-condensed table-bordered table-striped">
	                 		<caption style="text-align: center;">Lista de Pacientes</caption>							
    						<tr ng-repeat="paciente in $data | filter:ctrl.pesquisaNome">
        						<td data-title="'Nome'">{{paciente.nomeCompleto}}</td>
					            <td data-title="'CPF'">{{paciente.cpf | cpfFormat}}</td>
					       		<td data-title="'Data de Nascimento'">{{paciente.dataNascimento | date:'dd/MM/yyyy'}}</td>
					            <td data-title="'Telefone'">{{paciente.telefoneContato | telefoneFormat}}</td>					            
					            <td data-title="'Ações'" class="text-center">
					            	<a class="btn btn-success btn-xs" ng-click="ctrl.iniciarConsulta(paciente)" title="Iniciar Consulta"><i class="fa fa-calendar-check-o fa-fw"></i></a>
						            <a class="btn btn-primary btn-xs" ng-click="ctrl.verProntuarios(paciente)" title="Prontuários"><i class="fa fa-file-text-o fa-fw"></i></a>
						            <a class="btn btn-warning btn-xs" ng-click="ctrl.editarPaciente(paciente)" title="Editar Paciente"><i class="fa fa-pencil fa-fw"></i></a>					                        
						            <a class="btn btn-danger btn-xs" ng-click="ctrl.excluirPaciente(paciente)" title="Excluir Paciente"><i class="fa fa-user-times fa-fw"></i></a> 					                        						                        
						            <a class="btn btn-info btn-xs" ng-if="paciente.ativo" ng-click="ctrl.ativarDesativarPaciente(paciente)" title="Desativar Paciente"><i class="fa fa-minus fa-fw"></i></a>
						            <a class="btn btn-info btn-xs" ng-if="!paciente.ativo" ng-click="ctrl.ativarDesativarPaciente(paciente)" title="Ativar Paciente"><i class="fa fa-refresh fa-fw"></i></a>
					            </td>					                    		
    						</tr>
    					</table>						                              		                                
					</div>
				</div>
			</div>
		</div>		
	</div>
</div>		