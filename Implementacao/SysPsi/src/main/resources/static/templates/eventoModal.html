<!DOCTYPE html>
<html ng-app="syspsi">
	<head>
		<meta charset="UTF-8" />
		<script type="text/javascript">
			$('.clockpicker').clockpicker({
				autoclose: true
			});
			
			function mascara(t, mask) {
				var i = t.value.length;
				var saida = mask.substring(1,0);
				var texto = mask.substring(i)
				if (texto.substring(0,1) != saida) {
					t.value += texto.substring(0,1);
				}	
			}
			
		</script>		
	</head>
	<body>
		<div class="modal-header">
			<h3 class="modal-title" id="modal-title">Agendamento</h3>
		</div>
		
		<div class="modal-body" id="modal-body">
			<form>
				<div class="form-group">
					<label for="selPacientes">Nome do Paciente:</label> 
					<select
						id="selPacientes" class="form-control"
						ng-init="agendamento.paciente=lstPacientesAtivos[indexPacienteSelecionado]"
						ng-model="agendamento.paciente"
						ng-options="paciente.nomeExibicao for paciente in lstPacientesAtivos">
						<option value="">Selecione o paciente</option>
					</select>				
					<div class="clockpicker">
						<label for="inicio">Horário da consulta:</label>
						<input id="inicio" type="text" class="form-control" onKeyPress="mascara(this, '##:##')" maxlength="5"
							 ng-model="agendamento.formatedStart">						
					</div>											
					<label for="observacao">Observação: </label> 
					<input id="observacao"	type="text" maxlength="50" class="form-control" ng-model="agendamento.description"></input>					
					<div class="checkbox">
						<label><input type="checkbox" value="true" ng-model="agendamento.repetirSemanalmente">Repetir semanalmente</label>
					</div>
				</div>
			</form>
		</div>
		<div class="modal-footer">
			<div class="form-group">
				<button id="btnEdit" type="button" class="btn btn-primary" ng-click="salvar(agendamento)">Salvar</button>
				<button id="btnRemove" type="button" class="btn btn-danger"	ng-click="remover(agendamento)">Remover</button>
				<button id="btnCancel" type="button" class="btn btn-default" ng-click="cancelar()">Cancelar</button>
			</div>
		</div>
	</body>
</html>